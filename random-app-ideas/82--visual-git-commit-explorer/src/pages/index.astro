---
import commits from '../commits.json';
import CommitDetail from '../components/CommitDetail.astro';
const selectedCommit = commits[0];
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>Visual Git Commit Explorer</title>
	</head>
	<body class="bg-gray-900 text-white">
		<div class="container mx-auto p-4">
			<h1 class="text-2xl font-bold mb-4">Visual Git Commit Explorer</h1>
			<div class="flex">
				<div class="w-2/3">
					<svg class="w-full h-96 bg-gray-800 rounded-lg"></svg>
				</div>
				<div class="w-1/3 ml-4">
					<h2 class="text-xl font-bold mb-2">Commits</h2>
					<ul class="mb-4">
						{commits.map((commit, index) => (
							<li class="flex items-center mb-2 p-2 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700">
								<img src="/images/commit.svg" alt="commit icon" class="w-6 h-6 mr-2" />
								<div>
									<p class="font-bold">{commit.message}</p>
									<div class="flex items-center">
										<img src={`/avatars/avatar${(index % 3) + 1}.svg`} alt="author avatar" class="w-6 h-6 mr-2 rounded-full" />
										<p class="text-sm text-gray-400">{commit.author}</p>
									</div>
								</div>
							</li>
						))}
					</ul>
					<CommitDetail
						sha={selectedCommit.sha}
						message={selectedCommit.message}
						author={selectedCommit.author}
						date={selectedCommit.date}
						avatarUrl="/avatars/avatar1.svg"
					/>
				</div>
			</div>
		</div>
	</body>
</html>
