---
import Layout from '../layouts/Layout.astro';
---

<Layout title="Oerlikon Scooter Tracker">
	<div id="map" style="height: 600px;"></div>
</Layout>

<script>
	const map = L.map('map').setView([47.411, 8.542], 15);

	L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
		attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
	}).addTo(map);

	const scooters = [
		{ id: 1, lat: 47.410, lng: 8.540, battery: 80 },
		{ id: 2, lat: 47.412, lng: 8.545, battery: 60 },
		{ id: 3, lat: 47.413, lng: 8.539, battery: 95 },
		{ id: 4, lat: 47.409, lng: 8.543, battery: 40 },
		{ id: 5, lat: 47.411, lng: 8.546, battery: 70 },
	];

	scooters.forEach(scooter => {
		const marker = L.marker([scooter.lat, scooter.lng]).addTo(map);
		marker.bindPopup(`<b>Scooter ${scooter.id}</b><br>Battery: ${scooter.battery}%`);
	});
</script>